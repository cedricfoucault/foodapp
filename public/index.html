<!DOCTYPE html>
<html>
<head>
  <title>Ruby on Rails: Welcome aboard</title>

  <link rel="stylesheet" href="/assets/application.css">
  <script src="/assets/application.js"></script>
</head>
<body ng-app="FoodApp">

  <div ng-controller="FoodCtrl">
    <!-- résultats de recherche, pas toujours affichés -->
    <div class="completion hidden">
      <div ng-repeat="result in results">
        <span ng-click="selectFood(result)">{{result.text}}</span>
      </div>
    </div>

    <!-- résumé nutrition -->
    <div class="FoodSummary">
      <h1>Foodapp</h1>

      <table cellspacing="0" cellpadding="5">
        <tr>
          <th>Proteins</th>
          <td>{{proteins()}}</td>
        </tr>

        <tr>
          <th>Carbs</th>
          <td>{{carbs()}}</td>
        </tr>

        <tr>
          <th>Lipids</th>
          <td>{{fat()}}</td>
        </tr>
      </table>
    </div>

    <!-- liste d'aliments -->
    <ul class="FoodList">
      <li ng-repeat="food in foods">
        <!-- <span class="dynamicsparkline">
          {{food.proteins}},
          {{food.carbs}},
          {{food.fat}}
        </span> -->
        {{food.text}}
        <button ng-click="removeFood(food)">&times;</button>
      </li>
    </ul>

    <!-- champ de recherche -->
    <form class="Search" ng-submit="searchFood()">
      <table border="0" cellspacing="0" cellpadding="0" id="searchBox">
        <tr>
          <td><input type="text" ng-model="foodText" on-keyup="searchFood()" placeholder="enter food name"></td>
          <!-- <td><input type="submit" value="add"></td> -->
        </tr>
      </table>

      <table border="0" cellspacing="0" cellpadding="0" id="confirmBox" class="hidden">
        <tr>
          <td>{{currentFood.text}}</td>
          <td>
            <select name="some_name" id="some_name" onchange="" size="1">
              <option value="5">5</option>
              <option value="10">10</option>
              
            </select>
          </td>

          <td><button ng-click="addFood()">Add</button></td>
          <td><button ng-click="cancel()">&times;</button></td>
        </tr>
      </table>
    </form>
  </div>

</body>
</html>
